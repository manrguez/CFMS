function LoadModalContent(e) { $("#modalContent").load(e) } function Create(e) { if (ValidateFrm()) { var a = $("input[name='__RequestVerificationToken']").val(); $.ajax({ url: "/" + e + "/Create/", type: "POST", headers: { RequestVerificationToken: a }, data: $("form").serialize(), success: function (a) { ClearData(), $("#btnClose").click(); var r = ""; $("[name='FeedbackId']").val() && $("[name='FeedbackId']").val() > 0 && (r = $("[name='FeedbackId']").val()), ReloadList("/" + e + "/ListPartial/" + r) }, error: function (e, a, r) { console.error("Error on CreateFeedback: ", r) } }) } } function ReloadList(e) { $.ajax({ url: e, type: "GET", success: function (e) { $("#containerList").html(e) }, error: function (e, a, r) { console.error("Error on ReloadFeedbacks:", r) } }) } function ValidateFrm(e = !0) { var a = !0, r = $("#CustomerName"), o = $("#Category"), t = $("#Description"); return "" != $.trim(r.val()) ? (r.closest(".form-group").removeClass("has-error"), a = !0) : (r.closest(".form-group").addClass("has-error"), a = !1), !0 == e && ("" != $.trim(o.val()) ? (o.closest(".form-group").removeClass("has-error"), a = !0) : (o.closest(".form-group").addClass("has-error"), a = !1)), "" != $.trim(t.val()) ? (t.closest(".form-group").removeClass("has-error"), a = !0) : (t.closest(".form-group").addClass("has-error"), a = !1), a } function ClearData() { $("#modalCreate").find("textarea,input").val("") } function EditFeedback(e) { if (ValidateFrm()) { var a = $("input[name='__RequestVerificationToken']").val(); $.ajax({ url: "/Feedbacks/Edit/" + e, type: "POST", headers: { RequestVerificationToken: a }, data: $("form").serialize(), success: function (e) { ClearData(), $("#btnClose").click(), ReloadList("/Feedbacks/ListPartial") }, error: function (e, a, r) { console.error("Error on EditFeedback: ", r) } }) } } function EditResponse(e, a) { if (ValidateFrm(!1)) { var r = $("input[name='__RequestVerificationToken']").val(); $.ajax({ url: "/Responses/Edit/" + e, type: "POST", headers: { RequestVerificationToken: r }, data: $("form").serialize(), success: function (e) { ClearData(), $("#btnClose").click(), ReloadList("/Responses/ListPartial/" + a) }, error: function (e, a, r) { console.error("Error on EditResponse: ", r) } }) } } $(document).ready(function () { $.ajaxSetup({ cache: !1 }) });